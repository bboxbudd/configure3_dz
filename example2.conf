let input_bucket = "uploads"
let output_bucket = "processed"
let format = "webp"
let quality = 85
let retry_policy = {max_attempts => 3, backoff_ms => 500}

let config = {
  source => $[input_bucket],
  target => $[output_bucket],
  output_format => $[format],
  compression_quality => $[quality],
  retries => $[retry_policy]
}

q($[config])